/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => PF2eCreatureAdjuster
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
function extractSections(noteContent) {
  const regex = /(^[\s\S]*?)```statblock\n([\s\S]*?)\n```([\s\S]*)$/;
  const match = noteContent.match(regex);
  if (match && match.length > 3) {
    const beforeStatblock = match[1];
    const statblockText = match[2];
    const afterStatblock = match[3];
    return { beforeStatblock, statblockText, afterStatblock };
  } else {
    return null;
  }
}
var PF2eCreatureAdjuster = class extends import_obsidian.Plugin {
  async onload() {
    this.addCommand({
      id: "elite-upgrade",
      name: "Elite Monster Upgrade",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            const text = markdownView.editor.getValue();
            this.createMonster(text, true);
          }
          return true;
        }
      }
    });
    this.addCommand({
      id: "weak-downgrade",
      name: "Weak Monster Downgrade",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            const text = markdownView.editor.getValue();
            this.createMonster(text, false);
          }
          return true;
        }
      }
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async createMonster(noteContent, elite = false) {
    var _a;
    const sections = await extractSections(noteContent);
    if (sections) {
      let match = sections.statblockText.match(/name:\s*"\s*([^"]+)/);
      let name = "UNKNOWN";
      if (match) {
        name = match[1];
      } else {
        console.log("Failed to find the creature name!");
      }
      if (name.startsWith("Weak ") || name.startsWith("Elite ")) {
        new import_obsidian.Notice("Can't alter an already weak or elite creature.", 5e3);
        return;
      }
      const escapedName = name.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      const name_regex = new RegExp("(?<!\\[)" + escapedName, "g");
      let name_prepend = "Weak $&";
      let name_suffix = ", Weak";
      if (elite) {
        name_suffix = ", Elite";
        name_prepend = "Elite $&";
      }
      sections.beforeStatblock = sections.beforeStatblock.replace(name_regex, name_prepend);
      sections.statblockText = sections.statblockText.replace(name_regex, name_prepend);
      sections.afterStatblock = sections.afterStatblock.replace(name_regex, name_prepend);
      const statblock_level_regex = /(level:\s+"\w+?\s+)(-)?(\d+)/;
      match = sections.statblockText.match(statblock_level_regex);
      let level = -100;
      if (match) {
        level = parseInt(match[3], 10);
        if (match[2]) {
          level = -level;
        }
      } else {
        console.log("Failed to locate level in statblock!");
      }
      const orig_level = level;
      const hp_regex = /(hp:\s+)(\d+)/;
      match = sections.statblockText.match(hp_regex);
      let hp = -100;
      if (match) {
        hp = parseInt(match[2], 10);
      } else {
        console.log("Failed to locate hp in statblock!");
      }
      if (elite) {
        if (level <= 1) {
          hp = hp + 10;
        } else if (level <= 4) {
          hp = hp + 15;
        } else if (level <= 19) {
          hp = hp + 20;
        } else {
          hp = hp + 30;
        }
      } else {
        if (level >= 1 && level <= 2) {
          hp = hp - 10;
        } else if (level <= 5) {
          hp = hp - 15;
        } else if (level <= 20) {
          hp = hp - 20;
        } else {
          hp = hp - 30;
        }
      }
      sections.statblockText = sections.statblockText.replace(hp_regex, (match2, p1) => `${p1}${hp}`);
      const hp_desc_regex = /(name:\s+HP\n\s+desc:\s+")(\d+)/;
      sections.statblockText = sections.statblockText.replace(hp_desc_regex, (match2, p1) => `${p1}${hp}`);
      if (elite) {
        if (level < 1) {
          level = level + 2;
        } else {
          level = level + 1;
        }
      } else {
        if (level == 1) {
          level = level - 2;
        } else {
          level = level - 1;
        }
      }
      const level_regex = new RegExp("(level:\\s+)" + orig_level);
      sections.beforeStatblock = sections.beforeStatblock.replace(level_regex, (match2, p1) => `${p1}${level}`);
      const level_tag_regex = new RegExp("(pf2e/creature/level/)" + orig_level);
      sections.beforeStatblock = sections.beforeStatblock.replace(level_tag_regex, (match2, p1) => `${p1}${level}`);
      sections.statblockText = sections.statblockText.replace(statblock_level_regex, (match2, p1) => `${p1}${level}`);
      let mod = -2;
      if (elite) {
        mod = 2;
      }
      const ac_regex = /(\nac:\s+)(\d+)/;
      match = sections.statblockText.match(ac_regex);
      let ac = 0;
      if (match) {
        ac = parseInt(match[2], 10);
        ac = ac + mod;
      }
      sections.statblockText = sections.statblockText.replace(ac_regex, (match2, p1) => `${p1}${ac}`);
      const ac_desc_regex = /(name:\s+AC\n\s+desc:\s+")(\d+)/;
      sections.statblockText = sections.statblockText.replace(ac_desc_regex, (match2, p1) => `${p1}${ac}`);
      const dc_regex = /DC (\d+)/g;
      sections.statblockText = sections.statblockText.replace(dc_regex, (match2, p1) => {
        return `DC ${parseInt(p1, 10) + mod}`;
      });
      const saves_regex = /(name:\s+AC\n\s+desc:\s+"\d+[\s\S]*?;\s+__Fort__)([^;"]+)/;
      sections.statblockText = sections.statblockText.replace(
        saves_regex,
        (match2, preamble, savesSection) => {
          const updatedSavesSection = savesSection.replace(
            /(\+\d+)/g,
            (saveMatch) => {
              const value = parseInt(saveMatch, 10) + mod;
              return `+${value}`;
            }
          );
          return `${preamble}${updatedSavesSection}`;
        }
      );
      const perception_regex = /("Perception"\n\s+desc:\s+"(Perception\s+)?\+)(\d+)/;
      match = sections.statblockText.match(perception_regex);
      let perception = 0;
      if (match) {
        perception = parseInt(match[3], 10) + mod;
      }
      sections.statblockText = sections.statblockText.replace(perception_regex, (match2, p1) => `${p1}${perception}`);
      sections.statblockText = sections.statblockText.replace(
        /(skills:\s+- name: "Skills"\s+desc: ")([^"]+)/,
        (match2, preamble, skillsSection) => {
          const updatedSkillsSection = skillsSection.replace(
            /(\+\d+)/g,
            (skillMatch) => {
              const value = parseInt(skillMatch, 10) + mod;
              return `+${value}`;
            }
          );
          return `${preamble}${updatedSkillsSection}`;
        }
      );
      const attacks_section_regex = /(attacks:\n\s+- name:)([\s\S]+)$/;
      sections.statblockText = sections.statblockText.replace(
        attacks_section_regex,
        (match2, preamble, attacksSection) => {
          let updatedAttacksSection = attacksSection.replace(
            /(attack )(\+\d+)/g,
            (attack, attack_preamble, attack_value) => {
              const value = parseInt(attack_value, 10) + mod;
              if (value < 0) {
                return `attack ${value}`;
              } else {
                return `attack +${value}`;
              }
            }
          );
          updatedAttacksSection = updatedAttacksSection.replace(
            /(\s*desc: "`pf2:[^`]+` [^+]+)(\+\d+)/g,
            (attack, attack_preamble, attack_value) => {
              const value = parseInt(attack_value, 10) + mod;
              if (value < 0) {
                return `${attack_preamble}${value}`;
              } else {
                return `${attack_preamble}+${value}`;
              }
            }
          );
          updatedAttacksSection = updatedAttacksSection.replace(
            /(\s*desc: "[^\s\d\w] [^+]+)(\+\d+)/g,
            (attack, attack_preamble, attack_value) => {
              const value = parseInt(attack_value, 10) + mod;
              if (value < 0) {
                return `${attack_preamble}${value}`;
              } else {
                return `${attack_preamble}+${value}`;
              }
            }
          );
          updatedAttacksSection = updatedAttacksSection.replace(
            ///(__Damage__\s+\d+d\d+(\+\d+)?)(?:\s*\((\d+d\d+(\+\d+)?)\))?/g
            /(__Damage__\s+\d+d\d+)(\s*[\+-]?\s*)?(\d+)?(?:\s*\((\d+d\d+\s*[\+\-]?\s*\d*)?\))?/g,
            (attack, attack_preamble, attack_mod, attack_value, paren_attack) => {
              let value = 0;
              if (attack_value) {
                value = parseInt(attack_value, 10);
                if (attack_mod.includes("-")) {
                  value = -value;
                }
              }
              value = value + mod;
              if (value == 0) {
                return `${attack_preamble}`;
              } else if (value < 0) {
                value = -value;
                return `${attack_preamble} - ${value}`;
              } else {
                return `${attack_preamble} + ${value}`;
              }
            }
          );
          updatedAttacksSection = updatedAttacksSection.replace(
            /(\b\d+d\d+\b)(\s+[\+-]\s+)?(\d+)?(?=(?:\s+\w+){0,3}\s+damage)/g,
            (attack, attack_preamble, attack_mod, attack_value) => {
              let value = 0;
              if (attack_value) {
                value = parseInt(attack_value, 10);
                if (attack_mod.includes("-")) {
                  value = -value;
                }
              }
              value = value + mod;
              if (value == 0) {
                return `${attack_preamble}`;
              } else if (value < 0) {
                value = -value;
                return `${attack_preamble} - ${value}`;
              } else {
                return `${attack_preamble} + ${value}`;
              }
            }
          );
          return `${preamble}${updatedAttacksSection}`;
        }
      );
      const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      const currFile = markdownView == null ? void 0 : markdownView.file;
      const currentNoteFolderPath = (_a = currFile == null ? void 0 : currFile.parent) == null ? void 0 : _a.path;
      const newNoteFileName = name + name_suffix + ".md";
      const newNotePath = `${currentNoteFolderPath}/${newNoteFileName}`;
      const new_monster = sections.beforeStatblock + "```statblock\n" + sections.statblockText + "\n```\n" + sections.afterStatblock;
      try {
        await this.app.vault.create(newNotePath, new_monster);
        new import_obsidian.Notice(newNoteFileName + " created.", 5e3);
        this.app.workspace.openLinkText(newNoteFileName, newNotePath, true, { active: true });
      } catch (err) {
        console.error("Error creating new note:", err);
        new import_obsidian.Notice("Failed to create note: " + err, 5e3);
      }
    } else {
      console.log("The note does not contain a properly formatted statblock section.");
      new import_obsidian.Notice("The note does not contain a properly formatted statblock section.", 2e3);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5mdW5jdGlvbiBleHRyYWN0U2VjdGlvbnMobm90ZUNvbnRlbnQ6IHN0cmluZykge1xuICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB3aXRoIHRocmVlIGNhcHR1cmluZyBncm91cHNcbiAgICBjb25zdCByZWdleCA9IC8oXltcXHNcXFNdKj8pYGBgc3RhdGJsb2NrXFxuKFtcXHNcXFNdKj8pXFxuYGBgKFtcXHNcXFNdKikkLztcbiAgICBjb25zdCBtYXRjaCA9IG5vdGVDb250ZW50Lm1hdGNoKHJlZ2V4KTtcblxuICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAzKSB7XG4gICAgICAgIC8vIENhcHR1cmluZyB0aGUgdGhyZWUgcGFydHMgb2YgdGhlIHRleHRcbiAgICAgICAgY29uc3QgYmVmb3JlU3RhdGJsb2NrID0gbWF0Y2hbMV07IC8vIFRleHQgYmVmb3JlIHRoZSBzdGF0YmxvY2tcbiAgICAgICAgY29uc3Qgc3RhdGJsb2NrVGV4dCA9IG1hdGNoWzJdOyAgIC8vIFRoZSBzdGF0YmxvY2sgY29udGVudFxuICAgICAgICBjb25zdCBhZnRlclN0YXRibG9jayA9IG1hdGNoWzNdOyAgLy8gVGV4dCBhZnRlciB0aGUgc3RhdGJsb2NrXG5cbiAgICAgICAgcmV0dXJuIHsgYmVmb3JlU3RhdGJsb2NrLCBzdGF0YmxvY2tUZXh0LCBhZnRlclN0YXRibG9jayB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgc3RydWN0dXJlIGlzIG5vdCBmb3VuZFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBGMmVDcmVhdHVyZUFkanVzdGVyIGV4dGVuZHMgUGx1Z2luIHtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdlbGl0ZS11cGdyYWRlJyxcblx0XHRcdG5hbWU6ICdFbGl0ZSBNb25zdGVyIFVwZ3JhZGUnLFxuXG5cdFx0XHRjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0Ly8gQ29uZGl0aW9ucyB0byBjaGVja1xuXHRcdFx0XHRjb25zdCBtYXJrZG93blZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdFx0XHRpZiAobWFya2Rvd25WaWV3KSB7XG5cdFx0XHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgdHJ1ZSwgd2UncmUgc2ltcGx5IFwiY2hlY2tpbmdcIiBpZiB0aGUgY29tbWFuZCBjYW4gYmUgcnVuLlxuXHRcdFx0XHRcdC8vIElmIGNoZWNraW5nIGlzIGZhbHNlLCB0aGVuIHdlIHdhbnQgdG8gYWN0dWFsbHkgcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBtYXJrZG93blZpZXcuZWRpdG9yLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmNyZWF0ZU1vbnN0ZXIodGV4dCwgdHJ1ZSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICd3ZWFrLWRvd25ncmFkZScsXG5cdFx0XHRuYW1lOiAnV2VhayBNb25zdGVyIERvd25ncmFkZScsXG5cblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHQvLyBDb25kaXRpb25zIHRvIGNoZWNrXG5cdFx0XHRcdGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChtYXJrZG93blZpZXcpIHtcblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyB0cnVlLCB3ZSdyZSBzaW1wbHkgXCJjaGVja2luZ1wiIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBydW4uXG5cdFx0XHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgZmFsc2UsIHRoZW4gd2Ugd2FudCB0byBhY3R1YWxseSBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG5cdFx0XHRcdFx0aWYgKCFjaGVja2luZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IG1hcmtkb3duVmlldy5lZGl0b3IuZ2V0VmFsdWUoKTtcblx0XHRcdFx0XHRcdHRoaXMuY3JlYXRlTW9uc3Rlcih0ZXh0LCBmYWxzZSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cblx0fVxuXG5cdGFzeW5jIGNyZWF0ZU1vbnN0ZXIobm90ZUNvbnRlbnQ6IHN0cmluZywgZWxpdGU9ZmFsc2UpIHtcblx0XHQvLyBGaW5kIHRoZSBzdGF0IGJsb2NrXG5cdFx0Y29uc3Qgc2VjdGlvbnMgPSBhd2FpdCBleHRyYWN0U2VjdGlvbnMobm90ZUNvbnRlbnQpO1xuXG5cdFx0aWYgKHNlY3Rpb25zKSB7XG5cdFx0XHQvLyBSZXRyaWV2ZSB0aGUgY3JlYXR1cmUgbmFtZVxuXHRcdFx0bGV0IG1hdGNoID0gc2VjdGlvbnMuc3RhdGJsb2NrVGV4dC5tYXRjaCgvbmFtZTpcXHMqXCJcXHMqKFteXCJdKykvKTtcblx0XHRcdGxldCBuYW1lID0gXCJVTktOT1dOXCI7XG5cdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0bmFtZSA9IG1hdGNoWzFdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJGYWlsZWQgdG8gZmluZCB0aGUgY3JlYXR1cmUgbmFtZSFcIik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lLnN0YXJ0c1dpdGgoXCJXZWFrIFwiKSB8fCBuYW1lLnN0YXJ0c1dpdGgoXCJFbGl0ZSBcIikpIHtcblx0XHRcdFx0bmV3IE5vdGljZSAoXCJDYW4ndCBhbHRlciBhbiBhbHJlYWR5IHdlYWsgb3IgZWxpdGUgY3JlYXR1cmUuXCIsIDUwMDApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEVzY2FwZSBwb3RlbnRpYWwgcmVnZXggc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGBuYW1lYFxuXHRcdFx0Y29uc3QgZXNjYXBlZE5hbWUgPSBuYW1lLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG5cblx0XHRcdC8vIEluY2x1ZGUgbmVnYXRpdmUgbG9va2JlaGluZCB0byBjaGVjayBmb3IgYWJzZW5jZSBvZiBgW2AgYmVmb3JlIHRoZSBuYW1lXG5cdFx0XHRjb25zdCBuYW1lX3JlZ2V4ID0gbmV3IFJlZ0V4cCgnKD88IVxcXFxbKScgKyBlc2NhcGVkTmFtZSwgJ2cnKTtcblxuXHRcdFx0bGV0IG5hbWVfcHJlcGVuZCA9ICdXZWFrICQmJztcblx0XHRcdGxldCBuYW1lX3N1ZmZpeCA9IFwiLCBXZWFrXCI7XG5cdFx0XHRpZiAoZWxpdGUpIHtcblx0XHRcdFx0bmFtZV9zdWZmaXggPSBcIiwgRWxpdGVcIjsgXG5cdFx0XHRcdG5hbWVfcHJlcGVuZCA9ICdFbGl0ZSAkJic7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENoYW5nZSBOYW1lIHRvIEVsaXRlIG9yIFdlYWsgLi4uXG5cdFx0XHQvLyAgICAxLiBDaGFuZ2UgaW4gZnJvbnRtYXR0ZXJcblx0XHRcdHNlY3Rpb25zLmJlZm9yZVN0YXRibG9jayA9IHNlY3Rpb25zLmJlZm9yZVN0YXRibG9jay5yZXBsYWNlKG5hbWVfcmVnZXgsIG5hbWVfcHJlcGVuZCk7XG5cblx0XHRcdC8vICAgIDIuIENoYW5nZSBpbiBzdGF0YmxvY2tcblx0XHRcdHNlY3Rpb25zLnN0YXRibG9ja1RleHQgPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0LnJlcGxhY2UobmFtZV9yZWdleCwgbmFtZV9wcmVwZW5kKTtcblxuXHRcdFx0Ly8gICAgMy4gQ2hhbmdlIGluIGFmdGVyIHRleHRcblx0XHRcdHNlY3Rpb25zLmFmdGVyU3RhdGJsb2NrID0gc2VjdGlvbnMuYWZ0ZXJTdGF0YmxvY2sucmVwbGFjZShuYW1lX3JlZ2V4LCBuYW1lX3ByZXBlbmQpO1xuXG5cdFx0XHQvLyBSZXRyaWV2ZSBsZXZlbCBmcm9tIHN0YXRibG9ja1xuXHRcdFx0Y29uc3Qgc3RhdGJsb2NrX2xldmVsX3JlZ2V4ID0gLyhsZXZlbDpcXHMrXCJcXHcrP1xccyspKC0pPyhcXGQrKS87XG5cdFx0XHRtYXRjaCA9IHNlY3Rpb25zLnN0YXRibG9ja1RleHQubWF0Y2goc3RhdGJsb2NrX2xldmVsX3JlZ2V4KTtcblx0XHRcdGxldCBsZXZlbCA9IC0xMDA7XG5cdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0bGV2ZWwgPSBwYXJzZUludChtYXRjaFszXSwgMTApO1xuXHRcdFx0XHQvLyBIYW5kbGUgbmVnYXRpdmUgbGV2ZWxcblx0XHRcdFx0aWYgKG1hdGNoWzJdKSB7XG5cdFx0XHRcdFx0bGV2ZWwgPSAtbGV2ZWw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGxvY2F0ZSBsZXZlbCBpbiBzdGF0YmxvY2shXCIpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgb3JpZ19sZXZlbCA9IGxldmVsO1xuXG5cdFx0XHQvLyBSZXRyaWV2ZSBjdXJyZW50IEhQIGZyb20gc3RhdGJsb2NrXG5cdFx0XHRjb25zdCBocF9yZWdleCA9IC8oaHA6XFxzKykoXFxkKykvO1xuXHRcdFx0bWF0Y2ggPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0Lm1hdGNoKGhwX3JlZ2V4KTtcblx0XHRcdGxldCBocCA9IC0xMDA7XG5cdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0aHAgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9jYXRlIGhwIGluIHN0YXRibG9jayFcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkanVzdCBIUFxuXHRcdFx0aWYgKGVsaXRlKSB7XG5cdFx0XHRcdGlmIChsZXZlbCA8PSAxKSB7XG5cdFx0XHRcdFx0aHAgPSBocCArIDEwO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGxldmVsIDw9IDQpIHtcblx0XHRcdFx0XHRocCA9IGhwICsgMTU7XG5cdFx0XHRcdH0gZWxzZSBpZiAobGV2ZWwgPD0gMTkpIHtcblx0XHRcdFx0XHRocCA9IGhwICsgMjA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aHAgPSBocCArIDMwO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAobGV2ZWwgPj0gMSAmJiBsZXZlbCA8PSAyKSB7XG5cdFx0XHRcdFx0aHAgPSBocCAtIDEwO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGxldmVsIDw9IDUpIHtcblx0XHRcdFx0XHRocCA9IGhwIC0gMTU7XG5cdFx0XHRcdH0gZWxzZSBpZiAobGV2ZWwgPD0gMjApIHtcblx0XHRcdFx0XHRocCA9IGhwIC0gMjA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aHAgPSBocCAtIDMwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBSZXBsYWNlIEhQIGluIHN0YXRibG9jayB3aXRoIG5ldyB2YWx1ZVxuXHRcdFx0c2VjdGlvbnMuc3RhdGJsb2NrVGV4dCA9IHNlY3Rpb25zLnN0YXRibG9ja1RleHQucmVwbGFjZShocF9yZWdleCwgKG1hdGNoLCBwMSkgPT4gYCR7cDF9JHtocH1gKTtcblx0XHRcdGNvbnN0IGhwX2Rlc2NfcmVnZXggPSAvKG5hbWU6XFxzK0hQXFxuXFxzK2Rlc2M6XFxzK1wiKShcXGQrKS87XG5cdFx0XHRzZWN0aW9ucy5zdGF0YmxvY2tUZXh0ID0gc2VjdGlvbnMuc3RhdGJsb2NrVGV4dC5yZXBsYWNlKGhwX2Rlc2NfcmVnZXgsIChtYXRjaCwgcDEpID0+IGAke3AxfSR7aHB9YCk7XG5cblx0XHRcdC8vIENhbGN1bGF0ZSBuZXcgbGV2ZWxcblx0XHRcdGlmIChlbGl0ZSkge1xuXHRcdFx0XHRpZiAobGV2ZWwgPCAxKSB7XG5cdFx0XHRcdFx0bGV2ZWwgPSBsZXZlbCArIDI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV2ZWwgPSBsZXZlbCArIDE7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFdlYWtcblx0XHRcdFx0aWYgKGxldmVsID09IDEpIHtcblx0XHRcdFx0XHRsZXZlbCA9IGxldmVsIC0gMjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsZXZlbCA9IGxldmVsIC0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBDaGFuZ2UgXCJsZXZlbDogXCIgaW4gZnJvbnRtYXR0ZXJcblx0XHRcdGNvbnN0IGxldmVsX3JlZ2V4ID0gbmV3IFJlZ0V4cCgnKGxldmVsOlxcXFxzKyknICsgb3JpZ19sZXZlbCk7XG5cdFx0XHRzZWN0aW9ucy5iZWZvcmVTdGF0YmxvY2sgPSBzZWN0aW9ucy5iZWZvcmVTdGF0YmxvY2sucmVwbGFjZShsZXZlbF9yZWdleCwgKG1hdGNoLCBwMSkgPT4gYCR7cDF9JHtsZXZlbH1gKTtcblxuXHRcdFx0Ly8gQ2hhbmdlIFwicGYyZS9jcmVhdGUvbGV2ZWwvXCIgaW4gZnJvbnRtYXR0ZXIgdGFnc1xuXHRcdFx0Y29uc3QgbGV2ZWxfdGFnX3JlZ2V4ID0gbmV3IFJlZ0V4cCgnKHBmMmVcXC9jcmVhdHVyZVxcL2xldmVsXFwvKScgKyBvcmlnX2xldmVsKTtcblx0XHRcdHNlY3Rpb25zLmJlZm9yZVN0YXRibG9jayA9IHNlY3Rpb25zLmJlZm9yZVN0YXRibG9jay5yZXBsYWNlKGxldmVsX3RhZ19yZWdleCwgKG1hdGNoLCBwMSkgPT4gYCR7cDF9JHtsZXZlbH1gKTtcblxuXHRcdFx0Ly8gQ2hhbmdlIFwibGV2ZWw6IFwiIGluIHN0YXRibG9ja1xuXHRcdFx0c2VjdGlvbnMuc3RhdGJsb2NrVGV4dCA9IHNlY3Rpb25zLnN0YXRibG9ja1RleHQucmVwbGFjZShzdGF0YmxvY2tfbGV2ZWxfcmVnZXgsIChtYXRjaCwgcDEpID0+IGAke3AxfSR7bGV2ZWx9YCk7XHRcdFx0XG5cdFx0XHRcblx0XHRcdC8vIFNldCBnZW5lcmFsIG1vZGlmaWVyXG5cdFx0XHRsZXQgbW9kID0gLTI7XG5cdFx0XHRpZiAoZWxpdGUpIHtcblx0XHRcdFx0bW9kID0gKzI7XG5cdFx0XHR9IFxuXG5cdFx0XHQvLyBBZGp1c3QgQUNcblx0XHRcdGNvbnN0IGFjX3JlZ2V4ID0gLyhcXG5hYzpcXHMrKShcXGQrKS87XG5cdFx0XHRtYXRjaCA9IHNlY3Rpb25zLnN0YXRibG9ja1RleHQubWF0Y2goYWNfcmVnZXgpO1xuXHRcdFx0bGV0IGFjID0gMDtcblx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRhYyA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG5cdFx0XHRcdGFjID0gYWMgKyBtb2Q7XG5cdFx0XHR9XHRcdFx0XG5cdFx0XHRzZWN0aW9ucy5zdGF0YmxvY2tUZXh0ID0gc2VjdGlvbnMuc3RhdGJsb2NrVGV4dC5yZXBsYWNlKGFjX3JlZ2V4LCAobWF0Y2gsIHAxKSA9PiBgJHtwMX0ke2FjfWApO1x0XHRcdFxuXG5cdFx0XHQvLyBBZGp1c3QgQUMgZGVzY3JpcHRpb24gLSBUT0RPOiBoYW5kbGUgcGFyZW50aGV0aWNhbCBleHByZXNzaW9ucyBhZnRlcndhcmRzLCBzdWNoIGFzIFwiKFggd2l0aCBzaGllbGQgcmFpc2VkKVwiLiAgTk9URTogRm91bmRyeSBkb2Vzbid0IGhhbmRsZSB0aGlzLlxuXHRcdFx0Y29uc3QgYWNfZGVzY19yZWdleCA9IC8obmFtZTpcXHMrQUNcXG5cXHMrZGVzYzpcXHMrXCIpKFxcZCspLztcblx0XHRcdHNlY3Rpb25zLnN0YXRibG9ja1RleHQgPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0LnJlcGxhY2UoYWNfZGVzY19yZWdleCwgKG1hdGNoLCBwMSkgPT4gYCR7cDF9JHthY31gKTtcdFx0XHRcblx0XHRcdFxuXHRcdFx0Ly8gQWRqdXN0IERDc1xuXHRcdFx0Y29uc3QgZGNfcmVnZXggPSAvREMgKFxcZCspL2c7XG5cdFx0XHRzZWN0aW9ucy5zdGF0YmxvY2tUZXh0ID0gc2VjdGlvbnMuc3RhdGJsb2NrVGV4dC5yZXBsYWNlKGRjX3JlZ2V4LCAobWF0Y2gsIHAxKSA9PiB7XG5cdFx0XHRcdHJldHVybiBgREMgJHtwYXJzZUludChwMSwgMTApICsgbW9kfWA7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQWRqdXN0IFNhdmVzXG5cdFx0XHRjb25zdCBzYXZlc19yZWdleCA9IC8obmFtZTpcXHMrQUNcXG5cXHMrZGVzYzpcXHMrXCJcXGQrW1xcc1xcU10qPztcXHMrX19Gb3J0X18pKFteO1wiXSspLztcblx0XHRcdHNlY3Rpb25zLnN0YXRibG9ja1RleHQgPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0LnJlcGxhY2UoXG5cdFx0XHRcdHNhdmVzX3JlZ2V4LCAobWF0Y2gsIHByZWFtYmxlLCBzYXZlc1NlY3Rpb24pID0+IHtcblx0XHRcdFx0Ly8gQWRqdXN0IHNraWxsIHZhbHVlcyB3aXRoaW4gdGhlIGNhcHR1cmVkIFwiU2tpbGxzXCIgc2VjdGlvblxuXHRcdFx0XHRjb25zdCB1cGRhdGVkU2F2ZXNTZWN0aW9uID0gc2F2ZXNTZWN0aW9uLnJlcGxhY2UoXG5cdFx0XHRcdFx0LyhcXCtcXGQrKS9nLFxuXHRcdFx0XHRcdChzYXZlTWF0Y2g6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBwYXJzZUludChzYXZlTWF0Y2gsIDEwKSArIG1vZDtcblx0XHRcdFx0XHRcdHJldHVybiBgKyR7dmFsdWV9YDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiBgJHtwcmVhbWJsZX0ke3VwZGF0ZWRTYXZlc1NlY3Rpb259YDtcblx0XHRcdFx0fVxuXHRcdFx0KTtcdFx0XHRcdFx0XG5cblx0XHRcdC8vIEFkanVzdCBQZXJjZXB0aW9uIC0gaGFuZGxlIFwibGVnYWN5XCIgUEYyRSBwZXJjZXB0aW9uIGZvcm1hdCBmcm9tIFRUUlBHIGdpdGh1YiBiZXN0aWFyeVxuXHRcdFx0Y29uc3QgcGVyY2VwdGlvbl9yZWdleCA9IC8oXCJQZXJjZXB0aW9uXCJcXG5cXHMrZGVzYzpcXHMrXCIoUGVyY2VwdGlvblxccyspP1xcKykoXFxkKykvO1xuXHRcdFx0bWF0Y2ggPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0Lm1hdGNoKHBlcmNlcHRpb25fcmVnZXgpO1xuXHRcdFx0bGV0IHBlcmNlcHRpb24gPSAwO1xuXHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdHBlcmNlcHRpb24gPSBwYXJzZUludChtYXRjaFszXSwgMTApICsgbW9kO1xuXHRcdFx0fVx0XHRcdFxuXHRcdFx0c2VjdGlvbnMuc3RhdGJsb2NrVGV4dCA9IHNlY3Rpb25zLnN0YXRibG9ja1RleHQucmVwbGFjZShwZXJjZXB0aW9uX3JlZ2V4LCAobWF0Y2gsIHAxKSA9PiBgJHtwMX0ke3BlcmNlcHRpb259YCk7XHRcdFx0XG5cblx0XHRcdC8vIEFkanVzdCBza2lsbHNcblx0XHRcdHNlY3Rpb25zLnN0YXRibG9ja1RleHQgPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0LnJlcGxhY2UoXG5cdFx0XHRcdC8oc2tpbGxzOlxccystIG5hbWU6IFwiU2tpbGxzXCJcXHMrZGVzYzogXCIpKFteXCJdKykvLFxuXHRcdFx0XHQobWF0Y2gsIHByZWFtYmxlLCBza2lsbHNTZWN0aW9uKSA9PiB7XG5cdFx0XHRcdC8vIEFkanVzdCBza2lsbCB2YWx1ZXMgd2l0aGluIHRoZSBjYXB0dXJlZCBcIlNraWxsc1wiIHNlY3Rpb25cblx0XHRcdFx0Y29uc3QgdXBkYXRlZFNraWxsc1NlY3Rpb24gPSBza2lsbHNTZWN0aW9uLnJlcGxhY2UoXG5cdFx0XHRcdFx0LyhcXCtcXGQrKS9nLFxuXHRcdFx0XHRcdChza2lsbE1hdGNoOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoc2tpbGxNYXRjaCwgMTApICsgbW9kO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGArJHt2YWx1ZX1gO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIGAke3ByZWFtYmxlfSR7dXBkYXRlZFNraWxsc1NlY3Rpb259YDtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRqdXN0IGF0dGFjayBtb2RzXG5cdFx0XHRjb25zdCBhdHRhY2tzX3NlY3Rpb25fcmVnZXggPSAvKGF0dGFja3M6XFxuXFxzKy0gbmFtZTopKFtcXHNcXFNdKykkLztcblx0XHRcdHNlY3Rpb25zLnN0YXRibG9ja1RleHQgPSBzZWN0aW9ucy5zdGF0YmxvY2tUZXh0LnJlcGxhY2UoXG5cdFx0XHRcdGF0dGFja3Nfc2VjdGlvbl9yZWdleCxcblx0XHRcdFx0KG1hdGNoLCBwcmVhbWJsZSwgYXR0YWNrc1NlY3Rpb24pID0+IHtcblx0XHRcdFx0Ly8gQWRqdXN0IGF0dGFjayBtb2RzIHRoYXQgYXJlIHNpbXBseSBcImF0dGFjayArWFwiXG5cdFx0XHRcdGxldCB1cGRhdGVkQXR0YWNrc1NlY3Rpb24gPSBhdHRhY2tzU2VjdGlvbi5yZXBsYWNlKFxuXHRcdFx0XHRcdC8oYXR0YWNrICkoXFwrXFxkKykvZyxcblx0XHRcdFx0XHQoYXR0YWNrOiBzdHJpbmcsIGF0dGFja19wcmVhbWJsZSwgYXR0YWNrX3ZhbHVlOnN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBwYXJzZUludChhdHRhY2tfdmFsdWUsIDEwKSArIG1vZDtcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA8IDApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGBhdHRhY2sgJHt2YWx1ZX1gO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGBhdHRhY2sgKyR7dmFsdWV9YDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQWRqdXN0IGF0dGFjayBtb2RzIHRoYXQgYXJlIGxpa2UgXCJgcGYyZToxYCBBeGUgK1hcIlxuXHRcdFx0XHR1cGRhdGVkQXR0YWNrc1NlY3Rpb24gPSB1cGRhdGVkQXR0YWNrc1NlY3Rpb24ucmVwbGFjZShcblx0XHRcdFx0XHQvKFxccypkZXNjOiBcImBwZjI6W15gXStgIFteK10rKShcXCtcXGQrKS9nLFxuXHRcdFx0XHRcdChhdHRhY2s6IHN0cmluZywgYXR0YWNrX3ByZWFtYmxlLCBhdHRhY2tfdmFsdWU6c3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGF0dGFja192YWx1ZSwgMTApICsgbW9kO1xuXG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgPCAwKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBgJHthdHRhY2tfcHJlYW1ibGV9JHt2YWx1ZX1gO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGAke2F0dGFja19wcmVhbWJsZX0rJHt2YWx1ZX1gO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBBZGp1c3QgYXR0YWNrIG1vZHMgdGhhdCBhcmUgbGlrZSBcIlx1MkIzQiBBeGUgK1hcIlxuXHRcdFx0XHR1cGRhdGVkQXR0YWNrc1NlY3Rpb24gPSB1cGRhdGVkQXR0YWNrc1NlY3Rpb24ucmVwbGFjZShcblx0XHRcdFx0XHQvKFxccypkZXNjOiBcIlteXFxzXFxkXFx3XSBbXitdKykoXFwrXFxkKykvZyxcblx0XHRcdFx0XHQoYXR0YWNrOiBzdHJpbmcsIGF0dGFja19wcmVhbWJsZSwgYXR0YWNrX3ZhbHVlOnN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBwYXJzZUludChhdHRhY2tfdmFsdWUsIDEwKSArIG1vZDtcblxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlIDwgMCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYCR7YXR0YWNrX3ByZWFtYmxlfSR7dmFsdWV9YDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBgJHthdHRhY2tfcHJlYW1ibGV9KyR7dmFsdWV9YDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBBZGp1c3QgZGFtYWdlIGZvciBzdHJpa2VzIGFuZCBvdGhlciBvZmZlbnNpdmVzXG5cdFx0XHRcdC8vIExvb2sgZm9yIHNpbWlsYXIgdG8gXCJfX0RhbWFnZV9fIDFkNiArIDEyXCIgXG5cdFx0XHRcdC8vIGNvbnN0IHJlZ2V4ID0gLyhcXGQrZFxcZCtbXFwrXFwtXT9cXGQqKVxccyooPzpcXCgoXFxkK2RcXGQrW1xcK1xcLV0/XFxkKilcXCkpPy87XG5cdFx0XHRcdHVwZGF0ZWRBdHRhY2tzU2VjdGlvbiA9IHVwZGF0ZWRBdHRhY2tzU2VjdGlvbi5yZXBsYWNlKFxuXHRcdFx0XHQgIC8vLyhfX0RhbWFnZV9fXFxzK1xcZCtkXFxkKyhcXCtcXGQrKT8pKD86XFxzKlxcKChcXGQrZFxcZCsoXFwrXFxkKyk/KVxcKSk/L2dcblx0XHRcdFx0XHQvKF9fRGFtYWdlX19cXHMrXFxkK2RcXGQrKShcXHMqW1xcKy1dP1xccyopPyhcXGQrKT8oPzpcXHMqXFwoKFxcZCtkXFxkK1xccypbXFwrXFwtXT9cXHMqXFxkKik/XFwpKT8vZyxcblx0XHRcdFx0XHQoYXR0YWNrOiBzdHJpbmcsIGF0dGFja19wcmVhbWJsZTpzdHJpbmcsIGF0dGFja19tb2Q6c3RyaW5nLCBhdHRhY2tfdmFsdWU6c3RyaW5nLCBwYXJlbl9hdHRhY2s6c3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgdmFsdWUgPSAwO1xuXHRcdFx0XHRcdFx0aWYgKGF0dGFja192YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlSW50KGF0dGFja192YWx1ZSwgMTApO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXR0YWNrX21vZC5pbmNsdWRlcygnLScpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSAtdmFsdWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUgKyBtb2Q7XG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgPT0gMCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYCR7YXR0YWNrX3ByZWFtYmxlfWA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlIDwgMCkge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IC12YWx1ZTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGAke2F0dGFja19wcmVhbWJsZX0gLSAke3ZhbHVlfWA7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYCR7YXR0YWNrX3ByZWFtYmxlfSArICR7dmFsdWV9YDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gTG9vayBmb3Igb3RoZXIgZGFtYWdlIHJvbGxzIChhIGRpZSByb2xsIHdpdGhpbiAzIHdvcmRzIGJlZm9yZSB0aGUgd29yZCBcImRhbWFnZVwiKVxuXHRcdFx0XHR1cGRhdGVkQXR0YWNrc1NlY3Rpb24gPSB1cGRhdGVkQXR0YWNrc1NlY3Rpb24ucmVwbGFjZShcblx0XHRcdFx0XHQvKFxcYlxcZCtkXFxkK1xcYikoXFxzK1tcXCstXVxccyspPyhcXGQrKT8oPz0oPzpcXHMrXFx3Kyl7MCwzfVxccytkYW1hZ2UpL2csXG5cdFx0XHRcdFx0KGF0dGFjazogc3RyaW5nLCBhdHRhY2tfcHJlYW1ibGUsIGF0dGFja19tb2QsIGF0dGFja192YWx1ZTpzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdGxldCB2YWx1ZSA9IDA7XG5cdFx0XHRcdFx0XHRpZiAoYXR0YWNrX3ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gcGFyc2VJbnQoYXR0YWNrX3ZhbHVlLCAxMCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRhY2tfbW9kLmluY2x1ZGVzKCctJykpIHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IC12YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZSArIG1vZDtcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA9PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBgJHthdHRhY2tfcHJlYW1ibGV9YDtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodmFsdWUgPCAwKSB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gLXZhbHVlO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYCR7YXR0YWNrX3ByZWFtYmxlfSAtICR7dmFsdWV9YDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBgJHthdHRhY2tfcHJlYW1ibGV9ICsgJHt2YWx1ZX1gO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHRyZXR1cm4gYCR7cHJlYW1ibGV9JHt1cGRhdGVkQXR0YWNrc1NlY3Rpb259YDtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblxuXHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdGNvbnN0IGN1cnJGaWxlID0gbWFya2Rvd25WaWV3Py5maWxlO1xuXHRcdFx0Y29uc3QgY3VycmVudE5vdGVGb2xkZXJQYXRoID0gY3VyckZpbGU/LnBhcmVudD8ucGF0aDtcblx0XHRcdGNvbnN0IG5ld05vdGVGaWxlTmFtZSA9IG5hbWUgKyBuYW1lX3N1ZmZpeCArIFwiLm1kXCI7XG5cdFx0XHRjb25zdCBuZXdOb3RlUGF0aCA9IGAke2N1cnJlbnROb3RlRm9sZGVyUGF0aH0vJHtuZXdOb3RlRmlsZU5hbWV9YDtcblx0XHRcdGNvbnN0IG5ld19tb25zdGVyID0gc2VjdGlvbnMuYmVmb3JlU3RhdGJsb2NrICsgXCJgYGBzdGF0YmxvY2tcXG5cIiArIHNlY3Rpb25zLnN0YXRibG9ja1RleHQgKyBcIlxcbmBgYFxcblwiICsgc2VjdGlvbnMuYWZ0ZXJTdGF0YmxvY2s7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUobmV3Tm90ZVBhdGgsIG5ld19tb25zdGVyKTtcblx0XHRcdFx0bmV3IE5vdGljZShuZXdOb3RlRmlsZU5hbWUgKyBcIiBjcmVhdGVkLlwiLCA1MDAwKTtcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChuZXdOb3RlRmlsZU5hbWUsIG5ld05vdGVQYXRoLCB0cnVlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IG5vdGU6XCIsIGVycik7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBjcmVhdGUgbm90ZTogJyArIGVyciwgNTAwMCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiVGhlIG5vdGUgZG9lcyBub3QgY29udGFpbiBhIHByb3Blcmx5IGZvcm1hdHRlZCBzdGF0YmxvY2sgc2VjdGlvbi5cIik7XG5cdFx0XHRuZXcgTm90aWNlKFwiVGhlIG5vdGUgZG9lcyBub3QgY29udGFpbiBhIHByb3Blcmx5IGZvcm1hdHRlZCBzdGF0YmxvY2sgc2VjdGlvbi5cIiwgMjAwMCk7XG5cdFx0fVxuXHR9XG59XG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBNEY7QUFFNUYsU0FBUyxnQkFBZ0IsYUFBcUI7QUFFMUMsUUFBTSxRQUFRO0FBQ2QsUUFBTSxRQUFRLFlBQVksTUFBTSxLQUFLO0FBRXJDLE1BQUksU0FBUyxNQUFNLFNBQVMsR0FBRztBQUUzQixVQUFNLGtCQUFrQixNQUFNLENBQUM7QUFDL0IsVUFBTSxnQkFBZ0IsTUFBTSxDQUFDO0FBQzdCLFVBQU0saUJBQWlCLE1BQU0sQ0FBQztBQUU5QixXQUFPLEVBQUUsaUJBQWlCLGVBQWUsZUFBZTtBQUFBLEVBQzVELE9BQU87QUFFSCxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBRUEsSUFBcUIsdUJBQXJCLGNBQWtELHVCQUFPO0FBQUEsRUFFeEQsTUFBTSxTQUFTO0FBRWQsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFFTixlQUFlLENBQUMsYUFBc0I7QUFFckMsY0FBTSxlQUFlLEtBQUssSUFBSSxVQUFVLG9CQUFvQiw0QkFBWTtBQUN4RSxZQUFJLGNBQWM7QUFHakIsY0FBSSxDQUFDLFVBQVU7QUFDZCxrQkFBTSxPQUFPLGFBQWEsT0FBTyxTQUFTO0FBQzFDLGlCQUFLLGNBQWMsTUFBTSxJQUFJO0FBQUEsVUFDOUI7QUFHQSxpQkFBTztBQUFBLFFBQ1I7QUFBQSxNQUNEO0FBQUEsSUFFRCxDQUFDO0FBRUQs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LGNBQ0Q7QUFDQSxzQkFBUSxRQUFRO0FBQ2hCLGtCQUFJLFNBQVMsR0FBRztBQUNmLHVCQUFPLEdBQUc7QUFBQSxjQUNYLFdBQVcsUUFBUSxHQUFHO0FBQ3JCLHdCQUFRLENBQUM7QUFDVCx1QkFBTyxHQUFHLHFCQUFxQjtBQUFBLGNBQ2hDLE9BQU87QUFDTix1QkFBTyxHQUFHLHFCQUFxQjtBQUFBLGNBQ2hDO0FBQUEsWUFDRDtBQUFBLFVBQ0Q7QUFHQSxrQ0FBd0Isc0JBQXNCO0FBQUEsWUFDN0M7QUFBQSxZQUNBLENBQUMsUUFBZ0IsaUJBQWlCLFlBQVksaUJBQXdCO0FBQ3JFLGtCQUFJLFFBQVE7QUFDWixrQkFBSSxjQUFjO0FBQ2pCLHdCQUFRLFNBQVMsY0FBYyxFQUFFO0FBQ2pDLG9CQUFJLFdBQVcsU0FBUyxHQUFHLEdBQUc7QUFDN0IsMEJBQVEsQ0FBQztBQUFBLGdCQUNWO0FBQUEsY0FDRDtBQUNBLHNCQUFRLFFBQVE7QUFDaEIsa0JBQUksU0FBUyxHQUFHO0FBQ2YsdUJBQU8sR0FBRztBQUFBLGNBQ1gsV0FBVyxRQUFRLEdBQUc7QUFDckIsd0JBQVEsQ0FBQztBQUNULHVCQUFPLEdBQUcscUJBQXFCO0FBQUEsY0FDaEMsT0FBTztBQUNOLHVCQUFPLEdBQUcscUJBQXFCO0FBQUEsY0FDaEM7QUFBQSxZQUNEO0FBQUEsVUFDRDtBQUVBLGlCQUFPLEdBQUcsV0FBVztBQUFBLFFBQ3JCO0FBQUEsTUFDRDtBQUVBLFlBQU0sZUFBZSxLQUFLLElBQUksVUFBVSxvQkFBb0IsNEJBQVk7QUFDeEUsWUFBTSxXQUFXLDZDQUFjO0FBQy9CLFlBQU0seUJBQXdCLDBDQUFVLFdBQVYsbUJBQWtCO0FBQ2hELFlBQU0sa0JBQWtCLE9BQU8sY0FBYztBQUM3QyxZQUFNLGNBQWMsR0FBRyx5QkFBeUI7QUFDaEQsWUFBTSxjQUFjLFNBQVMsa0JBQWtCLG1CQUFtQixTQUFTLGdCQUFnQixZQUFZLFNBQVM7QUFDaEgsVUFBSTtBQUNILGNBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxhQUFhLFdBQVc7QUFDcEQsWUFBSSx1QkFBTyxrQkFBa0IsYUFBYSxHQUFJO0FBQzlDLGFBQUssSUFBSSxVQUFVLGFBQWEsaUJBQWlCLGFBQWEsTUFBTSxFQUFFLFFBQVEsS0FBSyxDQUFDO0FBQUEsTUFDckYsU0FBUyxLQUFQO0FBQ0QsZ0JBQVEsTUFBTSw0QkFBNEIsR0FBRztBQUM3QyxZQUFJLHVCQUFPLDRCQUE0QixLQUFLLEdBQUk7QUFBQSxNQUNqRDtBQUFBLElBQ0QsT0FBTztBQUNOLGNBQVEsSUFBSSxtRUFBbUU7QUFDL0UsVUFBSSx1QkFBTyxxRUFBcUUsR0FBSTtBQUFBLElBQ3JGO0FBQUEsRUFDRDtBQUNEOyIsCiAgIm5hbWVzIjogWyJtYXRjaCJdCn0K
